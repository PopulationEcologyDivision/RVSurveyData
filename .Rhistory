fathoms_to_meters <- function(field = NULL) {
field <- field*1.8288
return(field)
}
GSINF$DMIN_M        <- fathoms_to_meters(GSINF$DMIN)
GSINF$DMAX_M        <- fathoms_to_meters(GSINF$DMAX)
GSINF$DEPTH_M       <- fathoms_to_meters(GSINF$DEPTH)
GSINF$START_DEPTH_M <- fathoms_to_meters(GSINF$START_DEPTH)
GSINF$END_DEPTH_M   <- fathoms_to_meters(GSINF$END_DEPTH)
View(GSINF)
MikeIt()
grepl("LONG", "ELONG")
grepl("LONG", "EAT")
DDMM_to_DDDD <- function(field = NULL){
dfNm <-deparse(substitute(field))
field <- (as.numeric(substr(field,1,2)) +(field - as.numeric(substr(field,1,2))*100)/60)
if (grepl("LONG", dfNm)) field <- field*-1
return(field)
}
source("C:/git/PopulationEcologyDivision/RVSurveyData/inst/utilities.R")
GSINF$SLAT_DD  <- DDMM_to_DDDD(GSINF$SLAT)
GSINF$SLONG_DD <- DDMM_to_DDDD(GSINF$SLONG)
GSINF$ELAT_DD  <- DDMM_to_DDDD(GSINF$ELAT)
GSINF$ELONG_DD <- DDMM_to_DDDD(GSINF$ELONG)
head(GSINF)
head(GSCAT)
head(GSCAT)
View(GSCAT[!is.na(GSCAT$MARKET),])
View(GSCAT[is.na(GSCAT$MARKET),])
tt<-Mar.qcdata::uniqueValuesPerField(GSCAT, cols_ignore = c("MISSION", "SETNO", "SPEC", "SAMPWGT", "TOTWGT", "TOTNO"))
tt$CALWT
tt$REMARKS
tt$SIZE_CLASS
tt$LENGTH_TYPE
GSCAT$MARKET <- NULL
GSCAT_dplyr <- GSCAT %>%
group_by(MISSION, SETNO, SPEC) %>%
summarise(RND_WEIGHT_KGS = sum(RND_WEIGHT_KGS))
GSCAT_dplyr <- GSCAT %>%
group_by(MISSION, SETNO, SPEC) %>%
summarise(TOTNO = sum(TOTNO),
TOTWGT = sum(TOTWGT),
SAMPWGT = sum(SAMPWGT))
head(GSCAT_dplyr)
GSCAT_dplyr <- GSCAT %>%
group_by(MISSION, SETNO, SPEC) %>%
summarise(TOTNO = sum(TOTNO),
TOTWGT = sum(TOTWGT),
SAMPWGT = sum(SAMPWGT), .groups = keep)
GSCAT_dplyr <- GSCAT %>%
group_by(MISSION, SETNO, SPEC) %>%
summarise(TOTNO = sum(TOTNO),
TOTWGT = sum(TOTWGT),
SAMPWGT = sum(SAMPWGT), .groups = "keep")
GSCAT2 <- GSCAT
GSCAT2[is.na(GSCAT2$TOTNO),"TOTNO"]<-0
GSCAT2[is.na(GSCAT2$TOTWGT),"TOTWGT"]<-0
GSCAT2[is.na(GSCAT2$SAMPWGT),"SAMPWGT"]<-0
GSCAT2 <- stats::aggregate(
x = list(
SAMPWGT = GSCAT2$SAMPWGT,
TOTWGT = GSCAT2$TOTWGT,
TOTNO = GSCAT2$TOTNO),
by = list(
MISSION = GSCAT2$MISSION,
SETNO = GSCAT2$SETNO,
SPEC = GSCAT2$SPEC),
sum
)
head(GSCAT)
rm(GSCAT2)
GSCAT_dplyr3 <- GSCAT %>%
group_by(MISSION, SETNO, SPEC, LENGTH_TYPE, LENGTH_UNITS, WEIGHT_TYPE, WEIGHT_UNITS) %>%
summarise(TOTNO = sum(TOTNO),
TOTWGT = sum(TOTWGT),
SAMPWGT = sum(SAMPWGT), .groups = "keep")
View(GSCAT_dplyr3)
GSCAT_dplyr4 <- GSCAT %>%
group_by(MISSION, SETNO, SPEC, LENGTH_TYPE, LENGTH_UNITS, WEIGHT_TYPE, WEIGHT_UNITS, REMARKS) %>%
summarise(TOTNO = sum(TOTNO),
TOTWGT = sum(TOTWGT),
SAMPWGT = sum(SAMPWGT), .groups = "keep")
View(GSCAT_dplyr4)
rm(GSCAT_dplyr4)
rm(GSCAT_dplyr)
rm(GSCAT_dplyr3)
source("C:/git/PopulationEcologyDivision/RVSurveyData/inst/utilities.R")
View(GSINF)
str(GSINF)
tt<-Mar.qcdata::uniqueValuesPerField(GSINF)
tt
res$GSINF$SLAT_DD  <- DDMM_to_DDDD(res$GSINF$SLAT)
res$GSINF$SLONG_DD <- DDMM_to_DDDD(res$GSINF$SLONG)
res$GSINF$ELAT_DD  <- DDMM_to_DDDD(res$GSINF$ELAT)
res$GSINF$ELONG_DD <- DDMM_to_DDDD(res$GSINF$ELONG)
#to meters
res$GSINF$DMIN_M        <- fathoms_to_meters(res$GSINF$DMIN)
res$GSINF$DMAX_M        <- fathoms_to_meters(res$GSINF$DMAX)
res$GSINF$DEPTH_M       <- fathoms_to_meters(res$GSINF$DEPTH)
res$GSINF$START_DEPTH_M <- fathoms_to_meters(res$GSINF$START_DEPTH)
res$GSINF$END_DEPTH_M   <- fathoms_to_meters(res$GSINF$END_DEPTH)
res$GSCAT <- res$GSCAT %>%
group_by(MISSION, SETNO, SPEC, LENGTH_TYPE, LENGTH_UNITS, WEIGHT_TYPE, WEIGHT_UNITS) %>%
summarise(TOTNO = sum(TOTNO),
TOTWGT = sum(TOTWGT),
SAMPWGT = sum(SAMPWGT), .groups = "keep")
head(res$GSCAT)
res$GSCAT <- res$GSCAT %>%
group_by(MISSION, SETNO, SPEC, LENGTH_TYPE, LENGTH_UNITS, WEIGHT_TYPE, WEIGHT_UNITS) %>%
summarise(TOTNO = sum(TOTNO),
TOTWGT = sum(TOTWGT),
SAMPWGT = sum(SAMPWGT), .groups = "keep") %>%
as.data.frame()
head(res$GSCAT)
head(GSAUX)
head(GSCRUISELIST)
devtools::document()
head(RVSurveyData::GSCAT)
head(res$GSCAT)
purrr::walk2(res, names(res), function(obj, name) {
assign(name, obj)
do.call("use_data", list(as.name(name), overwrite = TRUE))
})
head(RVSurveyData::GSCAT)
library(RVSurveyData)
head(RVSurveyData::GSCAT)
fathoms_to_meters <- function(field = NULL) {
field <- round(field*1.8288,2)
return(field)
}
DDMM_to_DDDD <- function(field = NULL){
dfNm <-deparse(substitute(field))
field <- round(as.numeric(substr(field,1,2)) +(field - as.numeric(substr(field,1,2))*100)/60),6)
if (grepl("LONG", dfNm)) field <- field*-1
return(field)
}
?rowMeans
source("C:/git/PopulationEcologyDivision/RVSurveyData/inst/updateRVSurveyData.R")
updateRVSurveyData(fn.oracle.username = oracle.username, fn.oracle.password = oracle.password, fn.oracle.dsn = oracle.dsn)
source("C:/git/PopulationEcologyDivision/RVSurveyData/inst/utilities.R")
source("C:/git/PopulationEcologyDivision/RVSurveyData/inst/updateRVSurveyData.R")
updateRVSurveyData(fn.oracle.username = oracle.username, fn.oracle.password = oracle.password, fn.oracle.dsn = oracle.dsn)
source("C:/git/PopulationEcologyDivision/RVSurveyData/inst/updateRVSurveyData.R")
updateRVSurveyData(fn.oracle.username = oracle.username, fn.oracle.password = oracle.password, fn.oracle.dsn = oracle.dsn)
source("C:/git/PopulationEcologyDivision/RVSurveyData/inst/utilities.R")
library(RVSurveyData)
View(GSINF)
source("C:/git/PopulationEcologyDivision/RVSurveyData/inst/updateRVSurveyData.R")
source("C:/git/PopulationEcologyDivision/RVSurveyData/inst/updateRVSurveyData.R")
source("C:/git/PopulationEcologyDivision/RVSurveyData/inst/updateRVSurveyData.R")
source("C:/git/PopulationEcologyDivision/RVSurveyData/inst/updateRVSurveyData.R")
source("C:/git/PopulationEcologyDivision/RVSurveyData/inst/updateRVSurveyData.R")
source("C:/git/PopulationEcologyDivision/RVSurveyData/inst/updateRVSurveyData.R")
source("C:/git/PopulationEcologyDivision/RVSurveyData/inst/updateRVSurveyData.R")
source("C:/git/PopulationEcologyDivision/RVSurveyData/inst/updateRVSurveyData.R")
source("C:/git/PopulationEcologyDivision/RVSurveyData/inst/updateRVSurveyData.R")
updateRVSurveyData(fn.oracle.username = oracle.username, fn.oracle.password = oracle.password, fn.oracle.dsn = oracle.dsn)
document()
RVSurveyData::GSSPECIES_20220624[RVSurveyData::GSSPECIES_20220624$CODE==9343,]
sqlStatement <- paste0("select * from GROUNDFISH.GSSPECIES_20220624")
GSSPECIES_20220624<-ROracle::dbGetQuery(con, sqlStatement)
con <- ROracle::dbConnect(DBI::dbDriver("Oracle"), oracle.username, oracle.password, oracle.dsn)
GSSPECIES_20220624<-ROracle::dbGetQuery(con, sqlStatement)
GSSPECIES_20220624<-ROracle::dbGetQuery(con, "select * from GROUNDFISH.GSSPECIES_20220624")
GSSPECIES_TAX<-ROracle::dbGetQuery(con, "select * from GROUNDFISH.GSSPECIES_TAX")
GSSPECIES_20220624$N_OCCURENCES_GSCAT <- NULL
use_data(GSSPECIES_20220624)
use_data(GSSPECIES_20220624, overwrite = T)
use_data(GSSPECIES_TAX, overwrite = T)
source("C:/git/PopulationEcologyDivision/RVSurveyData/inst/updateRVSurveyData.R")
source("C:/git/PopulationEcologyDivision/RVSurveyData/inst/updateRVSurveyData.R")
View(GSSPECIES_TAX)
GSSPECIES_TAX<-ROracle::dbGetQuery(con, "select * from GROUNDFISH.GSSPECIES_TAX")
use_data(GSSPECIES_TAX, overwrite = T)
res$GSSPECIES_20220624$ENTR <- NULL
GSSPECIES_20220624$ENTR <- NULL
use_data(GSSPECIES_20220624, overwrite = T)
source("C:/git/PopulationEcologyDivision/RVSurveyData/inst/updateRVSurveyData.R")
devtools::document()
devtools::document()
con <- ROracle::dbConnect(DBI::dbDriver("Oracle"), oracle.username, oracle.password, oracle.dsn)
GSSPECIES_TAX<-ROracle::dbGetQuery(con, "select * from GROUNDFISH.GSWARPOUT")
GSWARPOUT<-ROracle::dbGetQuery(con, "select * from GROUNDFISH.GSWARPOUT")
use_data(GSWARPOUT, overwrite = T)
usethis::use_data(GSWARPOUT, overwrite = T)
devtools::document()
library(RVSurveyData)
head(GSCAT)
head(GSDET)
recentData <- unique(res$GSMISSIONS[,c("YEAR","SEASON")]) %>% dplyr::group_by(SEASON) %>% dplyr::top_n(1, YEAR)
library(purrr)
library(dplyr)
library(devtools)
library(beepr)
recentData <- unique(GSMISSIONS[,c("YEAR","SEASON")]) %>% dplyr::group_by(SEASON) %>% dplyr::top_n(1, YEAR)
recentData <- recentData[order(-recentData$YEAR, -rank(recentData$SEASON)),]
newTxt <- paste0("# RVSurveyData Version",": ", utils::packageDescription('RVSurveyData')$Version,"\n",
"\* Data updated: ", format(Sys.Date(), '%Y/%m/%d'),"\n",
"\* Newest Data Available (by Season): ")
newTxt <- paste0("# RVSurveyData Version",": ", utils::packageDescription('RVSurveyData')$Version,"\n",
"\\* Data updated: ", format(Sys.Date(), '%Y/%m/%d'),"\n",
"\\* Newest Data Available (by Season): ")
filename=file.path(newsDir,'NEWS.md')
newsDir = "c:/git/PopulationEcologyDivision/RVSurveyData"
write(newTxt, file = filename, append = FALSE)
filename=file.path(newsDir,'NEWS.md')
write(newTxt, file = filename, append = FALSE)
write(paste0("\t",apply(recentData,1,paste0, collapse='\t')), file = filename, append = T, sep = '\t')
cat("mike","\n", "test")
newTxt <- cat("# RVSurveyData Version",": ", utils::packageDescription('RVSurveyData')$Version,"\n",
"\\* Data updated: ", format(Sys.Date(), '%Y/%m/%d'),"\n",
"\\* Newest Data Available (by Season): ")
filename=file.path(newsDir,'NEWS.md')
write(newTxt, file = filename, append = FALSE)
write(paste0("\t",apply(recentData,1,paste0, collapse='\t')), file = filename, append = T, sep = '\t')
recentData
newTxt <- cat("# RVSurveyData Version",": ", utils::packageDescription('RVSurveyData')$Version,"\n",
"\\* Data updated: ", format(Sys.Date(), '%Y/%m/%d'),"\n",
"\\* Newest Data Available (by Season): ")
newTxt <- paste0(cat("# RVSurveyData Version",": ", utils::packageDescription('RVSurveyData')$Version,"\n",
"\\* Data updated: ", format(Sys.Date(), '%Y/%m/%d'),"\n",
"\\* Newest Data Available (by Season): "))
filename=file.path(newsDir,'NEWS.md')
write(newTxt, file = filename, append = FALSE)
write(paste0("\t",apply(recentData,1,paste0, collapse='\t')), file = filename, append = T, sep = '\t')
newTxt <- paste0("# RVSurveyData Version",": ", utils::packageDescription('RVSurveyData')$Version,"\n",
"\\* Data updated: ", format(Sys.Date(), '%Y/%m/%d'),"\n",
"\\* Newest Data Available (by Season): ")
newTxt
newTxt <- writeLines("# RVSurveyData Version",": ", utils::packageDescription('RVSurveyData')$Version,"\n",
"\\* Data updated: ", format(Sys.Date(), '%Y/%m/%d'),"\n",
"\\* Newest Data Available (by Season): ")
newTxt <- writeLines(paste0("# RVSurveyData Version",": ", utils::packageDescription('RVSurveyData')$Version,"\n",
"\\* Data updated: ", format(Sys.Date(), '%Y/%m/%d'),"\n",
"\\* Newest Data Available (by Season): "))
newTxt
newTxt1 <- paste0("# RVSurveyData Version",": ", utils::packageDescription('RVSurveyData')$Version)
newTxt2 <- paste0("\\* Data updated: ", format(Sys.Date(), '%Y/%m/%d'))
newTxt3 <- paste0("\\* Newest Data Available (by Season): ")
filename=file.path(newsDir,'NEWS.md')
write(newTxt1, file = filename, append = FALSE)
newTxt1 <- paste0("# RVSurveyData Version",": ", utils::packageDescription('RVSurveyData')$Version)
newTxt2 <- paste0("\\* Data updated: ", format(Sys.Date(), '%Y/%m/%d'))
newTxt3 <- paste0("\\* Newest Data Available (by Season): ")
filename=file.path(newsDir,'NEWS.md')
write(newTxt1, file = filename, append = FALSE)
write(newTxt2, file = filename, append = TRUE)
write(newTxt3, file = filename, append = TRUE)
write(paste0("\t",apply(recentData,1,paste0, collapse='\t')), file = filename, append = T, sep = '\t')
filename=file.path(newsDir,'NEWS.md')
write(newTxt1, file = filename, append = FALSE)
write(newTxt2, file = filename, append = TRUE)
write(newTxt3, file = filename, append = TRUE)
write(paste0("\t",apply(recentData,1,paste0, collapse='\t')), file = filename, append = T, sep = '\t')
newTxt1 <- paste0("# RVSurveyData Version",": ", utils::packageDescription('RVSurveyData')$Version)
newTxt2 <- paste0("\n\t Data updated: ", format(Sys.Date(), '%Y/%m/%d'))
newTxt3 <- paste0("\n\t Newest Data Available (by Season): ")
filename=file.path(newsDir,'NEWS.md')
write(newTxt1, file = filename, append = FALSE)
write(newTxt2, file = filename, append = TRUE)
write(newTxt3, file = filename, append = TRUE)
write(paste0("\n\t",apply(recentData,1,paste0, collapse='\t')), file = filename, append = T, sep = '\t')
newTxt1 <- paste0("# RVSurveyData Version",": ", utils::packageDescription('RVSurveyData')$Version)
newTxt2 <- paste0("\n\t Data updated: ", format(Sys.Date(), '%Y/%m/%d'))
newTxt3 <- paste0("\t Newest Data Available (by Season): ")
filename=file.path(newsDir,'NEWS.md')
write(newTxt1, file = filename, append = FALSE)
write(newTxt2, file = filename, append = TRUE)
write(newTxt3, file = filename, append = TRUE)
write(paste0("\n\t\t",apply(recentData,1,paste0, collapse='\t')), file = filename, append = T, sep = '\t')
newTxt1 <- paste0("# RVSurveyData Version",": ", utils::packageDescription('RVSurveyData')$Version)
newTxt2 <- paste0("\n\t Data updated: ", format(Sys.Date(), '%Y/%m/%d'))
newTxt3 <- paste0("\t Newest Data Available (by Season): ")
filename=file.path(newsDir,'NEWS.md')
write(newTxt1, file = filename, append = FALSE)
write(newTxt2, file = filename, append = TRUE)
write(newTxt3, file = filename, append = TRUE)
write(paste0("\t\t",apply(recentData,1,paste0, collapse='\t')), file = filename, append = T, sep = '\t')
newTxt1 <- paste0("# RVSurveyData Version",": ", utils::packageDescription('RVSurveyData')$Version)
newTxt2 <- paste0("\t Data updated: ", format(Sys.Date(), '%Y/%m/%d'))
newTxt3 <- paste0("\t Newest Data Available (by Season): ")
filename=file.path(newsDir,'NEWS.md')
write(newTxt1, file = filename, append = FALSE)
write(newTxt2, file = filename, append = TRUE)
write(newTxt3, file = filename, append = TRUE)
write(paste0("\t\t",apply(recentData,1,paste0, collapse='\t')), file = filename, append = T, sep = '\t')
newTxt1 <- paste0("# RVSurveyData Version",": ", utils::packageDescription('RVSurveyData')$Version)
newTxt2 <- paste0("Data updated: ", format(Sys.Date(), '%Y/%m/%d'))
newTxt3 <- paste0("Newest Data Available (by Season): ")
filename=file.path(newsDir,'NEWS.md')
write(newTxt1, file = filename, append = FALSE)
write(newTxt2, file = filename, append = TRUE)
write(newTxt3, file = filename, append = TRUE)
write(paste0("\t\t",apply(recentData,1,paste0, collapse='\t')), file = filename, append = T, sep = '\t')
newTxt1 <- paste0("# RVSurveyData Version",": ", utils::packageDescription('RVSurveyData')$Version)
newTxt2 <- paste0(" Data updated: ", format(Sys.Date(), '%Y/%m/%d'))
newTxt3 <- paste0(" Newest Data Available (by Season): ")
filename=file.path(newsDir,'NEWS.md')
write(newTxt1, file = filename, append = FALSE)
write(newTxt2, file = filename, append = TRUE)
write(newTxt3, file = filename, append = TRUE)
write(paste0("\t\t",apply(recentData,1,paste0, collapse='\t')), file = filename, append = T, sep = '\t')
newTxt1 <- paste0("# RVSurveyData Version",": ", utils::packageDescription('RVSurveyData')$Version)
newTxt2 <- paste0(" Data updated: ", format(Sys.Date(), '%Y/%m/%d'))
newTxt3 <- paste0(" \nNewest Data Available (by Season): \n")
filename=file.path(newsDir,'NEWS.md')
write(newTxt1, file = filename, append = FALSE)
write(newTxt2, file = filename, append = TRUE)
write(newTxt3, file = filename, append = TRUE)
write(paste0("\t\t",apply(recentData,1,paste0, collapse='\t')), file = filename, append = T, sep = '\t')
newTxt1 <- paste0("# RVSurveyData Version",": ", utils::packageDescription('RVSurveyData')$Version)
newTxt2 <- paste0(" Data updated: ", format(Sys.Date(), '%Y/%m/%d'))
newTxt3 <- paste0(" \nNewest Data Available (by Season): ")
filename=file.path(newsDir,'NEWS.md')
write(newTxt1, file = filename, append = FALSE)
write(newTxt2, file = filename, append = TRUE)
write(newTxt3, file = filename, append = TRUE)
write(paste0("\t\t",apply(recentData,1,paste0, collapse='\t')), file = filename, append = T, sep = '\t')
newTxt1 <- paste0("# RVSurveyData Version",": ", utils::packageDescription('RVSurveyData')$Version)
newTxt2 <- paste0(" Data updated: ", format(Sys.Date(), '%Y/%m/%d'))
newTxt3 <- paste0(" Newest Data Available (by Season): \n")
filename=file.path(newsDir,'NEWS.md')
write(newTxt1, file = filename, append = FALSE)
write(newTxt2, file = filename, append = TRUE)
write(newTxt3, file = filename, append = TRUE)
write(paste0(" \t\t",apply(recentData,1,paste0, collapse='\t')), file = filename, append = T, sep = '\t')
newTxt1 <- paste0("# RVSurveyData Version",": ", utils::packageDescription('RVSurveyData')$Version)
newTxt2 <- paste0(" Data updated: ", format(Sys.Date(), '%Y/%m/%d'))
newTxt3 <- paste0(" Newest Data Available (by Season): \n.")
filename=file.path(newsDir,'NEWS.md')
write(newTxt1, file = filename, append = FALSE)
write(newTxt2, file = filename, append = TRUE)
write(newTxt3, file = filename, append = TRUE)
write(paste0(" \t\t",apply(recentData,1,paste0, collapse='\t')), file = filename, append = T, sep = '\t')
newTxt1 <- paste0("# RVSurveyData Version",": ", utils::packageDescription('RVSurveyData')$Version)
newTxt2 <- paste0(" Data updated: ", format(Sys.Date(), '%Y/%m/%d'))
newTxt3 <- paste0(" Newest Data Available (by Season): \n ")
filename=file.path(newsDir,'NEWS.md')
write(newTxt1, file = filename, append = FALSE)
write(newTxt2, file = filename, append = TRUE)
write(newTxt3, file = filename, append = TRUE)
write(paste0(" \t\t",apply(recentData,1,paste0, collapse='\t')), file = filename, append = T, sep = '\t')
newTxt1 <- paste0("# RVSurveyData Version",": ", utils::packageDescription('RVSurveyData')$Version)
newTxt2 <- paste0(" Data updated: ", format(Sys.Date(), '%Y/%m/%d'))
newTxt3 <- paste0(" Newest Data Available (by Season):")
newTxt4 <- paste0(" ")
filename=file.path(newsDir,'NEWS.md')
write(newTxt1, file = filename, append = FALSE)
write(newTxt2, file = filename, append = TRUE)
write(newTxt3, file = filename, append = TRUE)
write(newTxt4, file = filename, append = TRUE)
write(paste0(" \t\t",apply(recentData,1,paste0, collapse='\t')), file = filename, append = T, sep = '\t')
newTxt1 <- paste0("# RVSurveyData Version",": ", utils::packageDescription('RVSurveyData')$Version)
newTxt2 <- paste0(" Data updated: ", format(Sys.Date(), '%Y/%m/%d'))
newTxt3 <- paste0(" Newest Data Available (by Season):")
filename=file.path(newsDir,'NEWS.md')
write(newTxt1, file = filename, append = FALSE)
write(newTxt2, file = filename, append = TRUE)
write(newTxt3, file = filename, append = TRUE)
# write(newTxt4, file = filename, append = TRUE)
write(paste0("      ",apply(recentData,1,paste0, collapse='\t')), file = filename, append = T, sep = '\t')
newTxt1 <- paste0("# RVSurveyData Version",": ", utils::packageDescription('RVSurveyData')$Version)
newTxt2 <- paste0("\nData updated: ", format(Sys.Date(), '%Y/%m/%d'))
newTxt3 <- paste0("\n\tNewest Data Available (by Season):")
filename=file.path(newsDir,'NEWS.md')
write(newTxt1, file = filename, append = FALSE)
write(newTxt2, file = filename, append = TRUE)
write(newTxt3, file = filename, append = TRUE)
# write(newTxt4, file = filename, append = TRUE)
write(paste0("\n\t",apply(recentData,1,paste0, collapse='\t')), file = filename, append = T, sep = '\t')
newTxt1 <- paste0("# RVSurveyData Version",": ", utils::packageDescription('RVSurveyData')$Version)
newTxt2 <- paste0("\nData updated: ", format(Sys.Date(), '%Y/%m/%d'))
newTxt3 <- paste0("\n\tNewest Data Available (by Season):")
newTxt4 <- "\n"
filename=file.path(newsDir,'NEWS.md')
write(newTxt1, file = filename, append = FALSE)
write(newTxt2, file = filename, append = TRUE)
write(newTxt3, file = filename, append = TRUE)
write(newTxt4, file = filename, append = TRUE)
write(paste0("\t",apply(recentData,1,paste0, collapse='\t')), file = filename, append = T, sep = '\t')
newTxt1 <- paste0("# RVSurveyData Version",": ", utils::packageDescription('RVSurveyData')$Version)
newTxt2 <- paste0("\nData updated: ", format(Sys.Date(), '%Y/%m/%d'))
newTxt3 <- paste0("\n\tNewest Data Available (by Season):")
newTxt4 <- " \n"
filename=file.path(newsDir,'NEWS.md')
write(newTxt1, file = filename, append = FALSE)
write(newTxt2, file = filename, append = TRUE)
write(newTxt3, file = filename, append = TRUE)
write(newTxt4, file = filename, append = TRUE)
write(paste0("\t",apply(recentData,1,paste0, collapse='\t')), file = filename, append = T, sep = '\t')
apply(recentData,1,paste0, collapse='\t')
paste0("\t",apply(recentData,1,paste0, collapse='\t'))
paste0("\n",apply(recentData,1,paste0, collapse='\t'))
newTxt1 <- paste0("# RVSurveyData Version",": ", utils::packageDescription('RVSurveyData')$Version)
newTxt2 <- paste0("\nData updated: ", format(Sys.Date(), '%Y/%m/%d'))
newTxt3 <- paste0("\n\tNewest Data Available (by Season):")
newTxt4 <- " \n"
filename=file.path(newsDir,'NEWS.md')
write(newTxt1, file = filename, append = FALSE)
write(newTxt2, file = filename, append = TRUE)
write(newTxt3, file = filename, append = TRUE)
write(newTxt4, file = filename, append = TRUE)
write(paste0("\n",apply(recentData,1,paste0, collapse='\t')), file = filename, append = T, sep = '\t')
newTxt1 <- paste0("# RVSurveyData Version",": ", utils::packageDescription('RVSurveyData')$Version)
newTxt2 <- paste0("\nData updated: ", format(Sys.Date(), '%Y/%m/%d'))
newTxt3 <- paste0("\n\tNewest Data Available (by Season):")
newTxt4 <- " \n"
filename=file.path(newsDir,'NEWS.md')
write(newTxt1, file = filename, append = FALSE)
write(newTxt2, file = filename, append = TRUE)
write(newTxt3, file = filename, append = TRUE)
write(newTxt4, file = filename, append = TRUE)
write(paste0(" \t",apply(recentData,1,paste0, collapse='\t')), file = filename, append = T, sep = '\t')
newTxt1 <- paste0("# RVSurveyData Version",": ", utils::packageDescription('RVSurveyData')$Version)
newTxt2 <- paste0("\nData updated: ", format(Sys.Date(), '%Y/%m/%d'))
newTxt3 <- paste0("\n\tNewest Data Available (by Season):")
# newTxt4 <- " \n"
filename=file.path(newsDir,'NEWS.md')
write(newTxt1, file = filename, append = FALSE)
write(newTxt2, file = filename, append = TRUE)
write(newTxt3, file = filename, append = TRUE)
# write(newTxt4, file = filename, append = TRUE)
write(paste0(" \t",apply(recentData,1,paste0, collapse='\t')), file = filename, append = T, sep = '\t')
newTxt1 <- paste0("# RVSurveyData Version",": ", utils::packageDescription('RVSurveyData')$Version)
newTxt2 <- paste0("\nData updated: ", format(Sys.Date(), '%Y/%m/%d'))
newTxt3 <- paste0("\n\tNewest Data Available (by Season):")
# newTxt4 <- " \n"
filename=file.path(newsDir,'NEWS.md')
write(newTxt1, file = filename, append = FALSE)
write(newTxt2, file = filename, append = TRUE)
write(newTxt3, file = filename, append = TRUE)
# write(newTxt4, file = filename, append = TRUE)
write(paste0(" \t",apply(recentData,1,paste0, collapse='\t')), file = filename, append = T, sep = '\t')
newTxt1 <- paste0("# RVSurveyData Version",": ", utils::packageDescription('RVSurveyData')$Version)
newTxt2 <- paste0("\nData updated: ", format(Sys.Date(), '%Y/%m/%d'))
newTxt3 <- paste0("\nNewest Data Available (by Season):")
newTxt4 <- "\n "
filename=file.path(newsDir,'NEWS.md')
write(newTxt1, file = filename, append = FALSE)
write(newTxt2, file = filename, append = TRUE)
write(newTxt3, file = filename, append = TRUE)
write(newTxt4, file = filename, append = TRUE)
write(paste0(" \t",apply(recentData,1,paste0, collapse='\t')), file = filename, append = T, sep = '\t')
newTxt1 <- paste0("# RVSurveyData Version",": ", utils::packageDescription('RVSurveyData')$Version)
newTxt2 <- paste0("\nData updated: ", format(Sys.Date(), '%Y/%m/%d'))
newTxt3 <- paste0("Newest Data Available (by Season):")
newTxt4 <- " "
filename=file.path(newsDir,'NEWS.md')
write(newTxt1, file = filename, append = FALSE)
write(newTxt2, file = filename, append = TRUE)
write(newTxt3, file = filename, append = TRUE)
write(newTxt4, file = filename, append = TRUE)
write(paste0(" \t",apply(recentData,1,paste0, collapse='\t')), file = filename, append = T, sep = '\t')
newTxt1 <- paste0("# RVSurveyData Version",": ", utils::packageDescription('RVSurveyData')$Version)
newTxt2 <- paste0("\nData updated: ", format(Sys.Date(), '%Y/%m/%d'))
newTxt3 <- paste0("Newest Data Available (by Season):")
newTxt4 <- " "
filename=file.path(newsDir,'NEWS.md')
write(newTxt1, file = filename, append = FALSE)
write(newTxt2, file = filename, append = TRUE)
write(newTxt3, file = filename, append = TRUE)
write(newTxt4, file = filename, append = TRUE)
write(paste0(" \t",apply(recentData,1,paste0, collapse='\t')), file = filename, append = T, sep = '\t')
write(newTxt4, file = filename, append = TRUE)
newTxt1 <- paste0("# RVSurveyData Version",": ", utils::packageDescription('RVSurveyData')$Version)
newTxt2 <- paste0("\nData updated: ", format(Sys.Date(), '%Y/%m/%d'))
newTxt3 <- paste0("\nNewest Data Available (by Season):")
newTxt4 <- " "
filename=file.path(newsDir,'NEWS.md')
write(newTxt1, file = filename, append = FALSE)
write(newTxt2, file = filename, append = TRUE)
write(newTxt3, file = filename, append = TRUE)
write(newTxt4, file = filename, append = TRUE)
write(paste0(" \t",apply(recentData,1,paste0, collapse='\t')), file = filename, append = T, sep = '\t')
devtools::document()
recentData <- recentData[order(-recentData$YEAR, -rank(recentData$SEASON)),]
newTxt1 <- paste0("# RVSurveyData Version",": ", utils::packageDescription('RVSurveyData')$Version)
newTxt2 <- paste0("\nData updated: ", format(Sys.Date(), '%Y/%m/%d'))
newTxt3 <- paste0("\nNewest Data Available (by Season):")
newTxt4 <- " "
filename=file.path(newsDir,'NEWS.md')
write(newTxt1, file = filename, append = FALSE)
write(newTxt2, file = filename, append = TRUE)
write(newTxt3, file = filename, append = TRUE)
write(newTxt4, file = filename, append = TRUE)
write(paste0(" \t",apply(recentData,1,paste0, collapse='\t')), file = filename, append = T, sep = '\t')
library(RVSurveyData)
remove.packages("RVSurveyData", lib="~/R/win-library/4.1")
devtools::install_github('PopulationEcologyDivision/RVSurveyData')
remove.packages("RVSurveyData", lib="~/R/win-library/4.1")
devtools::install_github('PopulationEcologyDivision/RVSurveyData')
devtools::install_github('PopulationEcologyDivision/RVSurveyData')
library(RVSurveyData)
head(GSINF)
library(RVSurveyData)
head(GSCRUISELIST)
sort(unique(GSCRUISELIST$VESL))
sort(unique(GSMISSIONS))
View(GSMISSIONS)
listTbls<-function(){
c("GSAUX", "GSCAT", "GSCURNT", "GSDET",
"GSFORCE", "GSGEAR", "GSHOWOBT", "GSINF", "GSMATURITY",
"GSMISSIONS", "GSSEX","GSSPEC", "GSSPECIES",
"GSSTRATUM", "GSVESSEL", "GSXTYPE",
"GSSPECIES_20220624", "GSSPECIES_TAX")
}
this<-listTbls()
this
devtools::document()
rm(list = c("listTbls"))
devtools::document()
devtools::document()
